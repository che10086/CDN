---
title: STM32 F407修改配置文件的晶振频率
categories:  技术
avatar: /image/33cat1.jpg
authorAbout: 落叶飘零，又是一个春夏秋冬
photos: https://cdn.jsdelivr.net/gh/che10086/CDN@master/image/cover/img3.jpg
covers:  https://cdn.jsdelivr.net/gh/che10086/CDN@master/image/blog_image/单片机/修改晶振/4.png
---


## Quick Start

### 简述

在一次做单片机任务的过程中，我用野火官方串口通信的例程出现了乱码，经过我一番检查发现是晶振频率的问题。野火官方的例程中使用的是25Mhz的晶振，而我的板子使用的是8Mhz的晶振。


### 修改过程

打开keil5，按Ctrl+f打开搜索框
搜索  HES_VALUE
<img src="https://cdn.jsdelivr.net/gh/che10086/CDN@master/image/blog_image/单片机/修改晶振/3.png" width=500 height=400 />
在stm32f4xx.h文件中，将下图标的25000000改成8000000
{% fb_img https://cdn.jsdelivr.net/gh/che10086/CDN@master/image/blog_image/单片机/修改晶振/4.png 2 %}

继续搜索 PLL_M
<img src="https://cdn.jsdelivr.net/gh/che10086/CDN@master/image/blog_image/单片机/修改晶振/2.png" width=500 height=400 />
在system_stm32f4xx.c，将下图标的25改成8
{% fb_img https://cdn.jsdelivr.net/gh/che10086/CDN@master/image/blog_image/单片机/修改晶振/1.png 4 %}
这样就行了

### 小结

其实很多问题都是配置文件的晶振频率与stm32上的晶振频率对应不上造成的，比如说我之前遇到过定时器的使用频率与计算频率相差三倍问题，lcd屏幕刷新速度很慢的问题等等，但从表象问题追究根本问题需要一定的能力。



